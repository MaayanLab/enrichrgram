
<!DOCTYPE html>
<html>
<head>
  <title>Enrichment Clustergram Example</title>
  <link rel="stylesheet" href="./static/lib/css//bootstrap.min.css">
  <link rel="stylesheet" href="./static/lib/css/keen-dashboards.css">
  <link rel="stylesheet" href="./static/lib/css/bootstrap-switch.css">
  <link rel="stylesheet" href="./static/lib/css/dc.css">
  <link rel="stylesheet" href="./static/css/custom.css">
  <link rel="stylesheet" href="./static/css/specific.css" />
  <link rel="stylesheet" href="./static/css/jquery.accordion.css">
</head>

<body class="application">

      <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Enrichment Analysis Clustergram Viewer</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">


            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Choose GMT<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu" id='dropdown_list'>
                <!-- <li><a href="#" onclick="gmt_name = 'tf_int'; ">TF Intersection</a></li>
                <li><a href="#" onclick="gmt_name = 'chea';   ">ChEA</a></li>
                <li><a href="#" onclick="gmt_name = 'kea';    ">KEA</a></li> -->
            </li>
        
          </ul>
        </div> 
      </div>
    </nav>




  <form action="{{ url_for('python_function') }}" id="searchForm">
    <textarea  name="genes" placeholder='input genes' id='gene_input_box'></textarea>
    <button type="submit" id='submit_genes'>Submit</button>
  </form>

  
  <input type="checkbox" name="my-checkbox" data-on-text="Cluster" data-off-text="Rank" id='rank_switch' checked>



  <div id='row_title'>Input Genes</div>
  <div id='col_title'>Enriched ChEA Transcription Factors</div>
  <div id='svg_div'></div>




  <!-- start accordion menu -->

  <section id="gmt_menu" data-accordion-group>

    <div id='title_nosology_list'>Choose Libraries</div>

    <section data-accordion>
      <button data-control class="h_top btn">One</button>

      <div data-content>

        <article data-accordion>
          <button data-control class="h_medium btn" onClick="console.log('clicking on gmt')"> First thing </button>
        </article>

        <article data-accordion>
          <button data-control class="h_medium btn" onClick="console.log('clicking on gmt')"> Something</button>
        </article>          

      </div>

    </section>
    
    <section data-accordion>
      <button data-control class="h_top btn">Two</button>

      <div data-content>

        <article data-accordion>
          <button data-control class="h_medium btn" onClick="console.log('clicking on gmt')"> First Thing </button>
        </article>

        <article data-accordion>
          <button data-control class="h_medium btn" onClick="console.log('clicking on gmt')"> Something</button>
        </article>          

      </div>

    </section>

  </section>

  <!-- end accordion  -->



  <div id='nested_div'></div>
  
  
  <!-- Vendor -->
  <script src="./static/lib/js/jquery-1.11.2.min.js"></script>
  <script src='./static/lib/js/jquery.accordion.js'></script>
  <script src="./static/lib/js/bootstrap.min.js"></script>
  <script src="./static/lib/js/bootstrap-switch.min.js"></script>
  <script src="./static/lib/js/crossfilter.js"></script>
  <script src="./static/lib/js/d3.js"></script>
  <script src="./static/lib/js/dc.js"></script>
  <script src="./static/lib/js/queue.js"></script>
  <script src="./static/lib/js/keen.min.js"></script>
  <script src="./static/lib/js/underscore-min.js"></script>
  <script src='./static/lib/js/blockUI.js'></script>
  <!-- Clustergram Scripts -->
  <script src='./static/js/request_clustergram.js' type='text/javascript'></script>
  <script src='./static/js/ini_d3_clustergram.js'></script>
  <script src='./static/js/d3_clustergram.js'></script>
  <script src='./static/js/click_functions.js'></script>
  <script src='./static/js/toggle_switch.js'></script>

<script >
$(document).ready(function() {
$('#gmt_menu [data-accordion]').accordion();
});

$(document).ready(function() {
$('#gmt_menu [data-accordion]').accordion({
transitionSpeed: 300, // Transition speed on miliseconds.
transitionEasing: 'ease', // CSS value for easing
controlElement: '[data-control]', // CSS selector for the element acting as a button inside accordions.
contentElement: '[data-content]', // CSS selector for the element containing hide/show content.
groupElement: '[data-accordion-group]', // CSS selector for a parent element containing a group of accordions.
singleOpen: true // Opens a single accordion a time. If false, multiple accordions can be open a time.
});
});
</script>


<script>
  var data = [
        { "label": "set 1", "text": ["A","B"] },
        { "label": "set 2", "text": ["Sugar Cookie"] },
        { "label": "set 3", "text": ["text"] }
        ];

d3.select("#nested_div").selectAll("div")
    .data(data)
  .enter().append("div")
    .attr("id", function(d) { return d.label; })
    .each(function(list,i) {

      // console.log(d.text[0])

      // select 
      d3.select(this)
        .selectAll('p')
        .data(list)
        .enter()
        .append('p')
        .text(list.text);

      // d3.select(this).append("img")
      //   .attr("src", d.img);

    });

console.log('nested html ')

</script>


</body>
</html>
