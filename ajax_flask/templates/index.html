
<!DOCTYPE html>
<html>
<head>
  <title>Enrichment Clustergram Example</title>
  <link rel="stylesheet" href="./static/lib/css//bootstrap.min.css">
  <link rel="stylesheet" href="./static/lib/css/keen-dashboards.css">
  <link rel="stylesheet" href="./static/lib/css/bootstrap-switch.css">
  <link rel="stylesheet" href="./static/lib/css/dc.css">
  <link rel="stylesheet" href="./static/css/custom.css">
  <link rel="stylesheet" href="./static/css/specific.css" />
  <link rel="stylesheet" href="./static/css/jquery.accordion.css">
</head>

<body class="application">

      <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Enrichment Analysis Clustergram Viewer</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">


            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Choose GMT<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu" id='dropdown_list'>
                <!-- <li><a href="#" onclick="gmt_name = 'tf_int'; ">TF Intersection</a></li>
                <li><a href="#" onclick="gmt_name = 'chea';   ">ChEA</a></li>
                <li><a href="#" onclick="gmt_name = 'kea';    ">KEA</a></li> -->
            </li>
        
          </ul>
        </div> 
      </div>
    </nav>




  <form action="{{ url_for('python_function') }}" id="searchForm">
    <textarea  name="genes" placeholder='input genes' id='gene_input_box'></textarea>
    <button type="submit" id='submit_genes'>Submit</button>
  </form>

  
  <input type="checkbox" name="my-checkbox" data-on-text="Cluster" data-off-text="Rank" id='rank_switch' checked>



  <div id='row_title'>Input Genes</div>
  <div id='col_title'>Enriched ChEA Transcription Factors</div>
  <div id='svg_div'></div>




  <!-- start accordion menu -->

    <section id="dis_menu" data-accordion-group>

      <div id='title_nosology_list'>Enrichr GMTs</div>

      <section data-accordion>
        <button data-control class="h_top btn">Blood</button>
        <div data-content>

          <article data-accordion>
            <button data-control class="h_medium"> Whole blood</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Acute_Lung_Injury_GSE10474'  ); highlight_disease(this); "> Acute Lung Injury GSE10474 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Septic_Shock_GSE9692'  ); highlight_disease(this); "> Septic Shock GSE9692 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Peripheral blood mononuclear cell</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'B-cell_chronic_lymphocytic_leukaemia-small_lymphocytic_lymphoma_GSE8835'  ); highlight_disease(this); "> B-cell chronic lymphocytic leukaemia-small lymphocytic lymphoma GSE8835 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'JRA_-_Juvenile_rheumatoid_arthritis_GSE7753'  ); highlight_disease(this); "> JRA - Juvenile rheumatoid arthritis GSE7753 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'LGLL_-_Large_granular_lymphocytic_leukemia_GSE10631'  ); highlight_disease(this); "> LGLL - Large granular lymphocytic leukemia GSE10631 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Ulcerative_Colitis_GSE3365'  ); highlight_disease(this); "> Ulcerative Colitis GSE3365 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Blood monocyte</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Familial_combined_hyperlipidaemia_GSE11393'  ); highlight_disease(this); "> Familial combined hyperlipidaemia GSE11393 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Leukemia_Adult_T_Cell_GSE10789'  ); highlight_disease(this); "> Leukemia Adult T Cell GSE10789 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Blood</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE1751'  ); highlight_disease(this); "> Huntington's Disease GSE1751 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Megakaryocyte</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Leukemia_Acute_Megakaryocytic_GSE2433'  ); highlight_disease(this); "> Leukemia Acute Megakaryocytic GSE2433 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Thrombocytopenia_GSE2527'  ); highlight_disease(this); "> Thrombocytopenia GSE2527 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Thrombocyte</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Essential_Thrombocytemia_GSE2006'  ); highlight_disease(this); "> Essential Thrombocytemia GSE2006 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Haematopoietic stem cell</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'CML_-_Chronic_myeloid_leukemia_GSE11889'  ); highlight_disease(this); "> CML - Chronic myeloid leukemia GSE11889 </button>
              </article>
            </div>
          </article>

        </div>

      </section>
      </li>
      <section data-accordion>
        <button data-control class="h_top btn">Brain Cns/Pns</button>
        <div data-content>

          <article data-accordion>
            <button data-control class="h_medium"> CNS - Brain - Hippocampus (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Alzheimers_Disease_GSE1297'  ); highlight_disease(this); "> Alzheimer's Disease GSE1297 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Entorhinal cortex</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Alzheimers_Disease_GSE5281'  ); highlight_disease(this); "> Alzheimer's Disease GSE5281 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> CNS - Brain (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Astrocytoma_GSE4290'  ); highlight_disease(this); "> Astrocytoma GSE4290 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Escherichia_coli_infection_of_the_central_nervous_system_GSE3253'  ); highlight_disease(this); "> Escherichia coli infection of the central nervous system GSE3253 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> CNS - Brain - Hypothalamus (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Dehydration_GSE4130'  ); highlight_disease(this); "> Dehydration GSE4130 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Brain</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Down_Syndrome_GSE5390'  ); highlight_disease(this); "> Down Syndrome GSE5390 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE3621'  ); highlight_disease(this); "> Huntington's Disease GSE3621 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Infantile_neuronal_ceroid_lipofuscinosis_GSE6678'  ); highlight_disease(this); "> Infantile neuronal ceroid lipofuscinosis GSE6678 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> CNS - Brain - Striatum (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE3583'  ); highlight_disease(this); "> Huntington's Disease GSE3583 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE5786'  ); highlight_disease(this); "> Huntington's Disease GSE5786 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE7958'  ); highlight_disease(this); "> Huntington's Disease GSE7958 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Huntingtons_Disease_GSE9857'  ); highlight_disease(this); "> Huntington's Disease GSE9857 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> CNS - Brain - Cerebellum (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Schizophrenia_GSE4036'  ); highlight_disease(this); "> Schizophrenia GSE4036 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Cerebral cortex</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Bipolar_Disorder_GSE12649'  ); highlight_disease(this); "> Bipolar Disorder GSE12649 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> frontal cortex</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Bipolar_Disorder_GSE5388'  ); highlight_disease(this); "> Bipolar Disorder GSE5388 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Bipolar_Disorder_GSE5389'  ); highlight_disease(this); "> Bipolar Disorder GSE5389 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Hypothalamus</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Dehydration_GSE3110'  ); highlight_disease(this); "> Dehydration GSE3110 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Dehydration_GSE3125'  ); highlight_disease(this); "> Dehydration GSE3125 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Astrocyte</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Hypoxia_GSE4483'  ); highlight_disease(this); "> Hypoxia GSE4483 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> CNS - Spinal Cord (MMHCC)</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Spinal_Muscular_Atrophy_Infantile_GSE3075'  ); highlight_disease(this); "> Spinal Muscular Atrophy Infantile GSE3075 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Sciatic Nerve</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Diabetic_Neuropathy_GSE11343'  ); highlight_disease(this); "> Diabetic Neuropathy GSE11343 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Substantia Nigra</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Parkinsons_Disease_GSE7621'  ); highlight_disease(this); "> Parkinson's Disease GSE7621 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Ganglioneuroblastoma</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Nicotine_addiction_GSE11208'  ); highlight_disease(this); "> Nicotine addiction GSE11208 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Dorsal Root Ganglia</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Neurological_pain_disorder_GSE15041'  ); highlight_disease(this); "> Neurological pain disorder GSE15041 </button>
              </article>
            </div>
          </article>
          <article data-accordion>
            <button data-control class="h_medium"> Retina</button>
            <div data-content>
              <article>
              <button class="h_disease" onClick=" make_network( 'Glaucoma_GSE3554'  ); highlight_disease(this); "> Glaucoma GSE3554 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Leber_congenital_amaurosis_GSE3249'  ); highlight_disease(this); "> Leber congenital amaurosis GSE3249 </button>
              </article>
              <article>
              <button class="h_disease" onClick=" make_network( 'Retinoschisis_GSE5581'  ); highlight_disease(this); "> Retinoschisis GSE5581 </button>
              </article>
            </div>
          </article>

        </div>

      </section>
      </li>



    </section>




  <!-- end accordion  -->
<!-- 
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Collapsible Group Item #1
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
      
    <button>one</button>
    <button>one</button>
    <button>one</button>

    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Collapsible Group Item #2
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Collapsible Group Item #3
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
      </div>
    </div>
  </div>
</div>


 -->

  

  
  
  <!-- Vendor -->
  <script src="./static/lib/js/jquery-1.11.2.min.js"></script>
  <script src='./static/lib/js/jquery.accordion.js'></script>
  <script src="./static/lib/js/bootstrap.min.js"></script>
  <script src="./static/lib/js/bootstrap-switch.min.js"></script>
  <script src="./static/lib/js/crossfilter.js"></script>
  <script src="./static/lib/js/d3.js"></script>
  <script src="./static/lib/js/dc.js"></script>
  <script src="./static/lib/js/queue.js"></script>
  <script src="./static/lib/js/keen.min.js"></script>
  <script src="./static/lib/js/underscore-min.js"></script>
  <script src='./static/lib/js/blockUI.js'></script>
  <!-- Clustergram Scripts -->
  <script src='./static/js/request_clustergram.js' type='text/javascript'></script>
  <script src='./static/js/ini_d3_clustergram.js'></script>
  <script src='./static/js/d3_clustergram.js'></script>
  <script src='./static/js/click_functions.js'></script>
  <script src='./static/js/toggle_switch.js'></script>

  <script>
  console.log('make jquery get request')

  d3.json('./static/enrichr_gmt_data/enrichr_gmts.json', function(data){

    gmt_data = data['libraries']

    // generate array of gene names 
    gmt_names = []

    // gather gmt names 
    for (i = 0; i < gmt_data.length; i++){

      // console.log( gmt_data[i].isActive )
      // only keep active gmts 
      if (gmt_data[i].isActive == true){ 
        // get gmt names 
        gmt_names.push( gmt_data[i].libraryName );
      }
    }

    // console.log(gmt_names)

    // use d3 to add new elements
    d3.select('#dropdown_list')
      .selectAll()
      .data(gmt_names)
      .enter()
      .append('li')
      .append('a')
      .attr('onclick', function(d,i){ return "gmt_name = " + "'" + d + "'" ; })
      .html(function(d,i){return d})
      .attr('href','#')
  })

  </script>

<script >
$(document).ready(function() {
$('#dis_menu [data-accordion]').accordion();
});

$(document).ready(function() {
$('#dis_menu [data-accordion]').accordion({
transitionSpeed: 300, // Transition speed on miliseconds.
transitionEasing: 'ease', // CSS value for easing
controlElement: '[data-control]', // CSS selector for the element acting as a button inside accordions.
contentElement: '[data-content]', // CSS selector for the element containing hide/show content.
groupElement: '[data-accordion-group]', // CSS selector for a parent element containing a group of accordions.
singleOpen: true // Opens a single accordion a time. If false, multiple accordions can be open a time.
});
});
</script>



</body>
</html>
